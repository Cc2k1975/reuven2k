<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>×ª×›× ×•×Ÿ ×˜×™×•×œ</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    h1 { text-align: center; margin-bottom: 20px; }
    label { font-weight: bold; display: block; margin-top: 10px; }
    select, button, input[type="number"] {
      font-size: 16px;
      padding: 10px;
      width: 100%;
      margin-bottom: 10px;
      box-sizing: border-box;
    }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
    th { background-color: #eee; }
    #hotelLink {
      color: blue;
      cursor: pointer;
      text-decoration: underline;
      display: block;
      margin: 10px 0;
      word-break: break-all;
    }
  </style>

  <!-- jsPDF × ×˜×¢×Ÿ ×¤×¢× ××—×ª ×‘×¦×•×¨×” ×ª×§×™× ×” -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
  <h1>×ª×›× ×•×Ÿ ×˜×™×•×œ</h1>

  <label>ğŸ“… ×ª××¨×™×š:</label>
  <select id="date"></select>

  <label>âœˆ ×˜×™×¡×”:</label>
  <select id="flight"></select>

  <label>ğŸ™ ×¢×™×¨:</label>
  <select id="city" onchange="onCityChange()"></select>

  <label>ğŸ¨ ××œ×•×Ÿ:</label>
  <select id="hotel" onchange="updateHotelLink()"></select>
  <span id="hotelLink" onclick="openHotelLink()"></span>

  <label>ğŸ› ×›××” ×œ×™×œ×•×ª ×‘×¢×™×¨:</label>
  <input id="nights" type="number" min="1" value="1">

  <label>ğŸ ×¤×¢×™×œ×•×ª 1:</label>
  <select id="activity1"></select>

  <label>ğŸ ×¤×¢×™×œ×•×ª 2:</label>
  <select id="activity2"></select>

  <button onclick="savePlan()">×©××•×¨ ××¡×œ×•×œ</button>
  <button onclick="saveLocally()">ğŸ’¾ ×©××•×¨ × ×ª×•× ×™× ××§×•××™×ª</button>
  <button onclick="sendToWhatsApp()">ğŸ“¤ ×©×œ×— ×‘×•×•×˜×¡××¤</button>
  <button onclick="clearAll()">ğŸ§¹ ××—×§ ××ª ×›×œ ×”××¡×œ×•×œ</button>
  <button onclick="downloadPDF()">ğŸ“¥ ×¦×•×¨ PDF</button>

  <table id="savedTable" style="display:none;">
    <thead>
      <tr>
        <th>×ª××¨×™×š</th>
        <th>×˜×™×¡×”</th>
        <th>×¢×™×¨</th>
        <th>××œ×•×Ÿ</th>
        <th>×¤×¢×™×œ×•×ª 1</th>
        <th>×¤×¢×™×œ×•×ª 2</th>
        <th>××—×™×§×”</th>
      </tr>
    </thead>
    <tbody id="savedBody"></tbody>
  </table>

  <script>
    const flights = ["××™×Ÿ ×˜×™×¡×”", "×™×© ×˜×™×¡×”"];
    const cities = [
      "×‘× ×’×§×•×§ (Bangkok)", "×•×•×™×˜×¡× ×“ (Wit Sand)", "×—×•× ×”×™×Ÿ (Hua Hin)",
      "×œ××•×¡ (Lopburi)", "× ××§×•×Ÿ ×¨××¦'××¡×™××” (Nakhon Ratchasima)",
      "×¡×•×§×•×ª××™ (Sukhothai)", "×¡×•×¨××˜×× ×™ (Surat Thani)",
      "×¡×™×× ×¨×™×¤ (Siam Reap)", "×¡×¨××¡×™×Ÿ (Sarasins)", "×¤××™ (PAI)",
      "×¤×•×§×˜ (Phuket)", "×¤×˜××™×” (Pattaya)", "×¦'×× ×’ ×××™ (Chiang Mai)",
      "×¦'×× ×’ ×¨××™ (Chiang Rai)", "×§×•×” ×˜××• (Koh Tao)",
      "×§×•×¡××•×™ (Koh Samui)", "×§×•×¤×™×¤×™ (Koh Phi Phi)",
      "×§×•×¤× ×’×Ÿ (Koh Phangan)", "×§× ×˜×” (Kanchanaburi)", "×§×¨×‘×™ (Krabi)"
    ];

    const activities = [
      "××•××’×•×ª", "×‘×˜×Ÿ ×’×‘", "×‘×™×§×•×¨ ×‘××§×“×©×™×", "×‘×™×§×•×¨ ×‘×¤××¨×§×™× ×œ××•××™×™×",
      "×’×œ×™×©×ª ×’×œ×™×", "×”×¤×œ×’×•×ª ×¡×™×¨×” ×‘× ×”×¨×•×ª", "×—×•×•×™×™×ª ×¡×¤××¨×™ ×’'×™×¤×™×",
      "×˜×™×•×œ×™ ×¤×™×œ×™×", "×˜×¨×§×™× ×‘×”×¨×™×", "×™×", "××•×–×™××•× ×™×", "××•×¤×¢ ",
      "×¡×¤× ×•××¡××’' ×ª××™×œ× ×“×™", "×¤××¨×§ ××™×", "×¦×œ×™×œ×”", "×§××¨×˜×™× ×’",
      "×§×•×¨×¡×™ ×‘×™×©×•×œ ×ª××™×œ× ×“×™", "×¨××¤×˜×™× ×’", "×¨×›×™×‘×” ×¢×œ ×¡×•×¡×™×",
      "×©×•×§×™ ×œ×™×œ×”", "×©×™×™×˜ ", "×©× ×•×¨×§×œ×™× ×’", "×ª×¦×¤×™×•×ª × ×•×£ ××”×¨×™×"
    ];

    // ××œ×•× ×•×ª ××¡×•×“×¨×™× ×œ×¤×™ ×¢×™×¨
    const hotelsByCity = {
      "×¤×•×§×˜ (Phuket)": [
        {"name": "Angsana Laguna Phuket â€“ ×¨×™×–×•×¨×˜ ××¤×•××¨ ×‘×—×•×£ ×‘×× ×’ ×˜××•, ×¢× ×‘×¨×™×›×” ×¢× ×§×™×ª ×•××ª×§× ×™× ×œ××©×¤×—×•×ª.", "link": "https://www.booking.com/hotel/th/angsana-laguna-phuket.html"},
        {"name": "Burasari Phuket Resort & Spa â€“ ×¨×™×–×•×¨×˜ ×˜×¨×•×¤×™ ××¤× ×§ ×‘×œ×‘ ×¤×˜×•× ×’ ×‘×™×¥', ×¢× ×¡×¤× ×•×‘×¨×™×›×”.", "link": "https://www.booking.com/hotel/th/burasari.html"},
        {"name": "Hotel Clover Patong Phuket â€“ ××œ×•×Ÿ ××•×“×¨× ×™ ×‘××™×§×•× ××¨×›×–×™ ×‘×œ×‘ ×¤×˜×•× ×’, ×¢× ×‘×¨×™×›×” ×•×©×™×¨×•×ª ××¦×•×™×Ÿ", "link": "https://www.booking.com/hotel/th/hotel-clover-patong.html"},
        {"name": "InterContinental Phuket Resort â€“ ××œ×•×Ÿ ×™×•×§×¨×ª×™ ×‘×—×•×£ ×§××œ×”, ×¢× × ×•×£ ×œ×™× ×•×©×™×¨×•×ª ××¢×•×œ×”.", "link": "https://www.booking.com/hotel/th/intercontinental-phuket-resort.html"},
        {"name": "JW Marriott Phuket Resort & Spa â€“ ××œ×•×Ÿ ×—××™×©×” ×›×•×›×‘×™× ×¢× ×—×•×£ ×¤×¨×˜×™, ×¡×¤× ××¤× ×§ ×•×©×™×¨×•×ª ×™×•×¦× ×“×•×¤×Ÿ.", "link": "https://www.booking.com/hotel/th/jw-marriott-phuket-resort-and-spa.html"},
        {"name": "Katathani Phuket Beach Resort â€“ ××œ×•×Ÿ ×¢×œ ×—×•×£ ×§××˜×”, ×¢× ×‘×¨×™×›×•×ª, ××¡×¢×“×•×ª ×•× ×•×£ ×œ×™×.", "link": "https://www.booking.com/hotel/th/katathani-phuket-beach-resort.html"},
        {"name": "Novotel Phuket Karon Beach Resort â€“ ××œ×•×Ÿ ××•×“×¨× ×™ ×¢× ×‘×¨×™×›×•×ª, ××•×¢×“×•×Ÿ ×™×œ×“×™× ×•××™×§×•× ×©×§×˜.", "link": "https://www.booking.com/hotel/th/novotel-phuket-karon-beach-resort-and-spa.html"},
        {"name": "Phuket Marriott Resort & Spa, Merlin Beach â€“ ××œ×•×Ÿ ×¢× ×—×•×£ ×¤×¨×˜×™, ×‘×¨×™×›×•×ª ×•×¡×¤× ×‘×¨××” ×’×‘×•×”×”.", "link": "https://www.booking.com/hotel/th/phuket-marriott-resort-and-spa-merlin-beach.html"},
        {"name": "$$The Lantern Resorts Patong$$", "link": "https://www.booking.com/hotel/th/the-lantern-resort-patong.html"},
        {"name": "The Slate Phuket â€“ ×¨×™×–×•×¨×˜ ×™×•×§×¨×ª×™ ×¢× ×¢×™×¦×•×‘ ×ª×¢×©×™×™×ª×™ ×™×™×—×•×“×™, ×—×•×£ ×¤×¨×˜×™ ×•×©×™×¨×•×ª ×‘×¨××” ×’×‘×•×”×”.", "link": "https://www.booking.com/hotel/th/the-slate.html"}
      ],
      "×¤×˜××™×” (Pattaya)": [
        {"name": "$$The Whisper Hotel$$", "link": "https://www.booking.com/hotel/th/the-whisper.html"},
        {"name": "Amari Pattaya â€“ ××œ×•×Ÿ × ×¢×™× ×•××•×“×¨× ×™ ×‘××¨×›×– ×¤××˜×™×”, ×§×¨×•×‘ ×œ××¡×¢×“×•×ª ×•×©×•×•×§×™×.", "link": "https://www.booking.com/hotel/th/amari-pattaya.html"},
        {"name": "Avani Pattaya Resort â€“ ×¨×™×–×•×¨×˜ ×˜×¨×•×¤×™ ×‘×œ×‘ ×¤××˜×™×”, ×¢× ×‘×¨×™×›×” ×’×“×•×œ×”, ××¡×¢×“×•×ª ×•×©×™×¨×•×ª ××¦×•×™×Ÿ.", "link": "https://www.booking.com/hotel/th/avani-pattaya-resort.html"},
        {"name": "Hilton Pattaya â€“ ××œ×•×Ÿ ×™×•×§×¨×ª×™ ×¢× × ×•×£ ×¤× ×•×¨××™ ×œ×™×, ×‘×¨×™×›×ª ×’×’ ×•××¡×¢×“×•×ª ×’×•×¨××”.", "link": "https://www.booking.com/hotel/th/hilton-pattaya.html"},
        {"name": "Holiday Inn Pattaya â€“ ××œ×•×Ÿ ××•×“×¨× ×™ ×¢× × ×•×£ ×œ×™×, ×‘×¨×™×›×•×ª ×•××¡×¢×“×•×ª ××’×•×•× ×•×ª.", "link": "https://www.booking.com/hotel/th/holiday-inn-pattaya.html"},
        {"name": "InterContinental Pattaya Resort â€“ ××œ×•×Ÿ ×™×•×§×¨×ª×™ ×¢× ×—×•×£ ×¤×¨×˜×™, ×¡×¤× ×•×©×™×¨×•×ª ×‘×¨××” ×’×‘×•×”×”.", "link": "https://www.booking.com/hotel/th/inter-continental-pattaya-resort.html"},
        {"name": "Mercure Pattaya Ocean Resort â€“ ××œ×•×Ÿ ××©×¤×—×ª×™ ×¢× ×¤××¨×§ ××™× ×§×˜×Ÿ, ×‘×¨×™×›×•×ª ×•××™×§×•× × ×•×—.", "link": "https://www.booking.com/hotel/th/mercure-pattaya-ocean-resort.html"},
        {"name": "Pattaya Discovery Beach Hotel â€“ ××œ×•×Ÿ ×§×¨×•×‘ ×œ×—×•×£, ×¢× ×—×“×¨×™× ××¨×•×•×—×™× ×•×‘×¨×™×›×”.", "link": "https://www.booking.com/hotel/th/pattaya-discovery-beach.html"},
        {"name": "Royal Cliff Beach Hotel â€“ ××œ×•×Ÿ ×™×•×§×¨×ª×™ ×¢× × ×•×£ ×œ×™×, ××¡×¢×“×•×ª ×•×©×™×¨×•×ª ××¦×•×™×Ÿ.", "link": "https://www.booking.com/hotel/th/royal-cliff-beach.html"},
        {"name": "The Zign Hotel â€“ ××œ×•×Ÿ ×¢× ×¢×™×¦×•×‘ ××•×“×¨× ×™, ×‘×¨×™×›×” ×’×“×•×œ×” ×•××¡×¢×“×•×ª ×˜×•×‘×•×ª.", "link": "https://www.booking.com/hotel/th/the-zign.html"}
      ],
      "×‘× ×’×§×•×§ (Bangkok)": [
        {"name": "$$Sleepstation at Pratunam$$", "link": "https://www.booking.com/hotel/th/sleepstation-pratu-nam.html"},
        {"name": "Banyan Tree Bangkok â€“ ××œ×•×Ÿ ×™×•×§×¨×ª×™ ×¢× ×¡×¤×, ××¡×¢×“×•×ª ×•×‘×¨ ×¢×œ ×”×’×’.", "link": "https://www.booking.com/hotel/th/banyan-tree-bangkok.html"},
        {"name": " Chatrium Hotel Riverside Bangkok â€“ ××œ×•×Ÿ ×¢× × ×•×£ ×œ× ×”×¨, ×‘×¨×™×›×” ×’×“×•×œ×” ×•×©×™×¨×•×ª ××¦×•×™×Ÿ.", "link": "https://www.booking.com/hotel/th/chatrium-residence-sathon-bangkok.html"},
        {"name": " Novotel Bangkok Sukhumvit 20 â€“ ××œ×•×Ÿ ××•×“×¨× ×™ ×‘××™×§×•× ××¨×›×–×™, ×§×¨×•×‘ ×œ×§× ×™×•× ×™× ×•×œ××¡×¢×“×•×ª.", "link": "https://www.booking.com/hotel/th/novotel-bangkok-sukhumvit-20.html"},
        {"name": " Shangri-La Hotel Bangkok â€“ ××œ×•×Ÿ ×¢×œ ×’×“×•×ª ×”× ×”×¨, ×¢× ×©×™×¨×•×ª ××¢×•×œ×” ×•××¡×¢×“×•×ª ××’×•×•× ×•×ª.", "link": "https://www.booking.com/hotel/th/shangri-la-bangkok.html"},
        {"name": " SO Sofitel Bangkok â€“ ××œ×•×Ÿ ××•×“×¨× ×™ ×¢× ×¢×™×¦×•×‘ ×™×™×—×•×“×™, ×‘×¨×™×›×” ×¢×œ ×”×’×’ ×•× ×•×£ ×œ×¢×™×¨.", "link": "https://www.booking.com/hotel/th/so-sofitel-bangkok.html"},
        {"name": " The Peninsula Bangkok â€“ ××œ×•×Ÿ ×™×•×§×¨×ª×™ ×¢× × ×•×£ ×œ× ×”×¨, ×¡×¤× ×•×©×™×¨×•×ª ×‘×¨××” ×’×‘×•×”×”.", "link": "https://www.booking.com/hotel/th/the-peninsula-bangkok.html"},
        {"name": "$$Baiyoke Sky Hotel$$", "link": "https://www.booking.com/hotel/th/baiyoke-sky.html"},
        {"name": "$$Miloft Sathorn Hotel - SHA Plus Certified$$", "link": "https://www.booking.com/hotel/th/miloft-sathorn.html"},
        {"name": "$$Spenza Hotel$$", "link": "https://www.booking.com/hotel/th/spenza.html"},
        {"name": "$$The Berkeley Hotel Pratunam$$", "link": "https://www.booking.com/hotel/th/the-berkeley-pratunam-bangkok.html"},
        {"name": "$$The Victory Residences Bangkok$$", "link": "https://www.booking.com/hotel/th/the-victory-executive-residences.html"},
        {"name": "$$Top High Airport Link Hotel, Bangkok$$", "link": "https://www.booking.com/hotel/th/top-high-airport-link-bangkok.html"},
        {"name": "Mandarin Oriental Bangkok â€“ ××œ×•×Ÿ ××¤×•××¨ ×¢× ×©×™×¨×•×ª ×™×•×¦× ×“×•×¤×Ÿ, ××¡×¢×“×•×ª ×’×•×¨××” ×•× ×•×£ ×œ× ×”×¨.", "link": "https://www.booking.com/hotel/th/mandarin-oriental-bangkok.html"}
      ],
      "×§×¨×‘×™ (Krabi)": [
        {"name": "$$Panan Krabi Resort$$", "link": "https://www.booking.com/hotel/th/panan-krabi-resort.html"},
        {"name": " Holiday Inn Resort Krabi Ao Nang Beach â€“ ××œ×•×Ÿ × ×”×“×¨ ×œ××©×¤×—×•×ª, ×¢× ×‘×¨×™×›×” ×’×“×•×œ×”.", "link": "https://www.booking.com/hotel/th/holiday-inn-resort-krabi-ao-nang-beach.html"},
        {"name": " Krabi Heritage Hotel â€“ ××œ×•×Ÿ ××¤× ×§ ×‘××¨×›×– ×§×¨××‘×™, ×¢× ×’×™×©×” ×§×œ×” ×œ××˜×¨×§×¦×™×•×ª.", "link": "https://www.booking.com/hotel/th/krabi-heritage.html"},
        {"name": " Krabi Resort â€“ ××œ×•×Ÿ × ×¢×™× ×•×§×¨×•×‘ ×œ×—×•×£, ××ª××™× ×œ×›×œ ×¡×•×’×™ ×”×ª×™×™×¨×™×.", "link": "https://www.booking.com/hotel/th/krabi-resort.html"},
        {"name": " Krabi Sands Resort â€“ ××œ×•×Ÿ ×§×˜×Ÿ ×•× ×¢×™× ×¢× ×’×™×©×” ×œ×—×•×£ ×•×©×™×¨×•×ª ××™×©×™.", "link": "https://www.booking.com/hotel/th/krabi-sands-resort.html"},
        {"name": " Noppharat Resort â€“ ××œ×•×Ÿ ×§×¨×•×‘ ×œ×—×•×£ × ×•×¤××¨××˜, ×¢× ×—×“×¨×™× × ×•×—×™× ×•×‘×¨×™×›×”.", "link": "https://www.booking.com/hotel/th/noppharat-resort.html"},
        {"name": "Krabi Palm Beach Resort â€“ ××œ×•×Ÿ ×¢× ×‘×¨×™×›×”, ××¡×¢×“×” ×•×’×™×©×” × ×•×—×” ×œ×—×•×£.", "link": "https://www.booking.com/hotel/th/krabi-palm-beach-resort.html"},
        {"name": "Phulay Bay, A Ritz-Carlton Reserve â€“ ××ª×¨ × ×•×¤×© ×™×•×§×¨×ª×™ ×•×©×§×˜ ×¢× ×©×™×¨×•×ª ××™×©×™.", "link": "https://www.booking.com/hotel/th/phulay-bay-a-ritz-carlton-reserve.html"},
        {"name": "Rayavadee â€“ ××œ×•×Ÿ ×™×•×§×¨×ª×™ ×•×‘×œ×¢×“×™ ×¢×œ ×—×•×£ ×¤×¨×˜×™, ××ª××™× ×œ× ×•×¤×© ×¨×’×•×¢.", "link": "https://www.booking.com/hotel/th/rayavadee.html"}
      ],
      "×¦'×× ×’ ×××™ (Chiang Mai)": [
        {"name": "Anantara Chiang Mai Resort â€“ ××œ×•×Ÿ ×™×•×§×¨×ª×™ ×¢×œ ×’×“×•×ª × ×”×¨ ×”×¤×™× ×’, ×¢× ×¢×™×¦×•×‘ ××•×“×¨× ×™ ×•×©×™×¨×•×ª ××¢×•×œ×”.", "link": "https://www.booking.com/hotel/th/anantara-chiang-mai-resort.he.html"},
        {"name": " U Nimman Chiang Mai â€“ ××œ×•×Ÿ ××•×“×¨× ×™ ×‘××–×•×¨ × ×™×××Ÿ, ×§×¨×•×‘ ×œ×‘×ª×™ ×§×¤×” ×•×—× ×•×™×•×ª.", "link": "https://www.booking.com/hotel/th/u-nimman-chiang-mai.he.html"},
        {"name": " Yaang Come Village â€“ ××œ×•×Ÿ ×‘×¡×’× ×•×Ÿ ×ª××™×œ× ×“×™ ××¡×•×¨×ª×™, ×¢× ×’× ×™× ×˜×¨×•×¤×™×™× ×•×‘×¨×™×›×”.", "link": "https://www.booking.com/hotel/th/yaang-come-village-hotel.he.html"},
        {"name": "137 Pillars House â€“ ××œ×•×Ÿ ×‘×•×˜×™×§ ×™×•×§×¨×ª×™ ×¢× ×¢×™×¦×•×‘ ×§×•×œ×•× ×™××œ×™, ×©×™×¨×•×ª ××™×©×™ ×•×‘×¨×™×›×” ×™×¤×”×¤×™×™×”.", "link": "https://www.booking.com/hotel/th/137-pillars-house.he.html"},
        {"name": "De Naga Hotel Chiang Mai â€“ ××œ×•×Ÿ ×‘×•×˜×™×§ ×‘××¨×›×– ×”×¢×™×¨, ×¢× ×¢×™×¦×•×‘ ×™×™×—×•×“×™ ×•×©×™×¨×•×ª ××¦×•×™×Ÿ.", "link": "https://www.booking.com/hotel/th/de-naga-hotel.he.html"},
        {"name": "Four Seasons Resort Chiang Mai â€“ ××ª×¨ × ×•×¤×© ××¤×•××¨ ×‘×œ×‘ ×©×“×•×ª ××•×¨×–, ×¢× × ×•×£ ×¢×•×¦×¨ × ×©×™××” ×•××•×•×™×¨×” ×¨×’×•×¢×”.", "link": "https://www.booking.com/hotel/th/four-seasons-resort-chiang-mai.he.html"},
        {"name": "Le Meridien Chiang Mai â€“ ××œ×•×Ÿ ××•×“×¨× ×™ ×‘××¨×›×– ×”×¢×™×¨, ×§×¨×•×‘ ×œ×©×•×§ ×”×œ×™×œ×” ×•×œ××¡×¢×“×•×ª.", "link": "https://www.booking.com/hotel/th/le-meridien-chiang-mai.he.html"},
        {"name": "Rachamankha Hotel â€“ ××œ×•×Ÿ ×‘×•×˜×™×§ ×¢× ×¢×™×¦×•×‘ ××¡×•×¨×ª×™, ××•×•×™×¨×” ×©×§×˜×” ×•×§×¨×‘×” ×œ××§×“×©×™×.", "link": "https://www.booking.com/hotel/th/rachamankha.he.html"},
        {"name": "Shangri-La Hotel Chiang Mai â€“ ××œ×•×Ÿ ×™×•×§×¨×ª×™ ×¢× ××ª×§× ×™× ××¦×•×™× ×™×, ×›×•×œ×œ ×¡×¤× ×•×‘×¨×™×›×” ×’×“×•×œ×”.", "link": "https://www.booking.com/hotel/th/shangri-la-chiang-mai.he.html"},
        {"name": "Tamarind Village â€“ ××œ×•×Ÿ ×‘×•×˜×™×§ ×‘×œ×‘ ×”×¢×™×¨ ×”×¢×ª×™×§×”, ×¢× ×¢×™×¦×•×‘ ×œ× ×” ××¡×•×¨×ª×™ ×•×©×™×¨×•×ª ×—×.", "link": "https://www.booking.com/hotel/th/tamarind-village.he.html"}
      ],
      "×¦'×× ×’ ×¨××™ (Chiang Rai)": [
        {"name": " Le Meridien Chiang Rai Resort â€“ ××œ×•×Ÿ ×™×•×§×¨×ª×™ ×¢×œ ×’×“×•×ª × ×”×¨ ×§×•×§, ×¢× ×‘×¨×™×›×”, ×¡×¤× ×•× ×•×£ ××¨×”×™×‘.", "link": "https://www.booking.com/hotel/th/le-meridien-chiang-rai-resort.he.html"},
        {"name": " Anantara Golden Triangle Elephant Camp & Resort â€“ ××ª×¨ × ×•×¤×© ×™×•×§×¨×ª×™ ×¢× ××—× ×” ×¤×™×œ×™×, × ×•×£ ×œ×”×¨×™× ×•×©×™×¨×•×ª ××¢×•×œ×”.", "link": "https://www.booking.com/hotel/th/anantara-golden-triangle-elephant-camp-resort.he.html"},
        {"name": " Bura Resort Chiang Rai â€“ ××ª×¨ × ×•×¤×© ×‘×˜×‘×¢, ×¢× ×‘×§×ª×•×ª ×¢×¥ ×•× ×•×£ ×œ×”×¨×™×.", "link": "https://www.booking.com/hotel/th/bura-resort-chiang-rai.he.html"},
        {"name": " Dusit Island Resort â€“ ××œ×•×Ÿ ×¢×œ ××™ ×§×˜×Ÿ ×‘× ×”×¨, ×¢× × ×•×£ ×™×¤×”×¤×” ×•××ª×§× ×™× ××¦×•×™× ×™×.", "link": "https://www.booking.com/hotel/th/dusit-island-resort-chiang-rai.he.html"},
        {"name": " Laluna Hotel and Resort â€“ ××œ×•×Ÿ ×¢× ×‘×•× ×’×œ×•×¡ ×‘×’× ×™× ×˜×¨×•×¤×™×™×, ×‘×¨×™×›×” ×’×“×•×œ×” ×•××•×•×™×¨×” ×¨×’×•×¢×”.", "link": "https://www.booking.com/hotel/th/laluna-hotel-resort-chiangrai.he.html"},
        {"name": " Le Patta Hotel Chiang Rai â€“ ××œ×•×Ÿ ××•×“×¨× ×™ ×‘××¨×›×– ×”×¢×™×¨, ×§×¨×•×‘ ×œ×©×•×§ ×”×œ×™×œ×” ×•×œ××˜×¨×§×¦×™×•×ª.", "link": "https://www.booking.com/hotel/th/le-patta-hotel-chiang-rai.he.html"},
        {"name": " Mora Boutique Hotel â€“ ××œ×•×Ÿ ×‘×•×˜×™×§ ×¢× ×¢×™×¦×•×‘ ××œ×’× ×˜×™, ×‘×¨×™×›×” ×•×¡×¤×.", "link": "https://www.booking.com/hotel/th/mora-boutique.he.html"},
        {"name": " The Imperial River House Resort â€“ ××œ×•×Ÿ ×¢×œ ×’×“×•×ª ×”× ×”×¨, ×¢× ×—×“×¨×™× ××¨×•×•×—×™× ×•×‘×¨×™×›×”.", "link": "https://www.booking.com/hotel/th/the-imperial-river-house-resort.he.html"},
        {"name": " The Legend Chiang Rai Boutique River Resort & Spa â€“ ××ª×¨ × ×•×¤×© ×‘×•×˜×™×§ ×¢×œ ×’×“×•×ª ×”× ×”×¨, ×¢× ×¡×¤× ×•×‘×¨×™×›×”.", "link": "https://www.booking.com/hotel/th/the-legend-chiang-rai-river-resort-spa.he.html"},
        {"name": " The Riverie by Katathani â€“ ××œ×•×Ÿ ××•×“×¨× ×™ ×‘×œ×‘ ×”×¢×™×¨, ×¢× ×’× ×™× ××˜×•×¤×—×™× ×•×‘×¨×™×›×” ×’×“×•×œ×”.", "link": "https://www.booking.com/hotel/th/the-riverie-by-katathani.he.html"}
      ],
      "×§×•×¡××•×™ (Koh Samui)": [
        {"name": "$$Combo Beach Hotel Samui$$", "link": "https://www.booking.com/hotel/th/combo-beach-samui.he.html"},
        {"name": "$$Arkbar Beach Club$$", "link": "https://www.booking.com/hotel/th/arkbar-beach-club.he.html"},
        {"name": "$$Chaweng Villawee Hotel$$", "link": "https://www.booking.com/hotel/th/chaweng-villawee-hotel.he.html"},
        {"name": "$$Muang Samui Spa Resort - SHA Extra Plus$$", "link": "https://www.booking.com/hotel/th/muang-samui-spa-resort.he.html"}
      ],
      "×§×•×¤× ×’×Ÿ (Koh Phangan)": [
        {"name": "$$Vannee Golden Sands Beachfront Resort$$", "link": "https://www.booking.com/hotel/th/vannee-golden-sands-beachfront-resort.he.html"},
        {"name": "$$The Cabin Beach Resort$$", "link": "https://www.booking.com/hotel/th/the-cabin-beach-resort.he.html"}
      ]
    };

    function fillSelect(id, list) {
      const sel = document.getElementById(id);
      sel.innerHTML = "";
      sel.appendChild(new Option("", ""));
      list.forEach(item => sel.appendChild(new Option(item, item)));
    }

    function fillHotelsForCity(cityVal) {
      const sel = document.getElementById("hotel");
      sel.innerHTML = "";
      sel.appendChild(new Option("", ""));
      const list = hotelsByCity[cityVal] || [];
      list.forEach(h => {
        const opt = new Option(h.name, h.name);
        opt.dataset.link = h.link;
        sel.appendChild(opt);
      });
      updateHotelLink();
    }

    function onCityChange() {
      const cityVal = document.getElementById("city").value;
      fillHotelsForCity(cityVal);
    }

    function updateHotelLink() {
      const sel = document.getElementById("hotel");
      const opt = sel.options[sel.selectedIndex];
      const link = opt ? opt.dataset.link : "";
      const label = document.getElementById("hotelLink");
      if (link) {
        label.textContent = link;
        label.dataset.url = link;
      } else {
        label.textContent = "";
        label.dataset.url = "";
      }
    }

    function openHotelLink() {
      const url = document.getElementById("hotelLink").dataset.url;
      if (url) window.open(url, "_blank");
    }

    function generateDates() {
      const sel = document.getElementById("date");
      sel.innerHTML = "";
      sel.appendChild(new Option("", ""));
      for (let i = 0; i < 180; i++) {
        const d = new Date();
        d.setDate(d.getDate() + i);
        const txt = d.toLocaleDateString("he-IL", {
          weekday: 'long',
          year: 'numeric',
          month: '2-digit',
          day: '2-digit'
        });
        const opt = new Option(txt, txt);
        sel.appendChild(opt);
      }
    }

    function savePlan() {
      const dateSel = document.getElementById("date");
      const dateIndex = dateSel.selectedIndex;
      const cityVal = document.getElementById("city").value;

      if (dateIndex <= 0 || !cityVal) {
        alert("×× × ×‘×—×¨ ×œ×¤×—×•×ª ×ª××¨×™×š ×•×¢×™×¨ ×œ×¤× ×™ ×©××™×¨×ª ×”××¡×œ×•×œ.");
        return;
      }

      let nights = parseInt(document.getElementById("nights").value, 10);
      if (isNaN(nights) || nights < 1) nights = 1;

      const flightVal = document.getElementById("flight").value;
      const hotelVal = document.getElementById("hotel").value;
      const act1Val = document.getElementById("activity1").value;
      const act2Val = document.getElementById("activity2").value;

      for (let k = 0; k < nights; k++) {
        const optIndex = dateIndex + k;
        if (optIndex >= dateSel.options.length) break;
        const dateText = dateSel.options[optIndex].value;

        const row = document.createElement("tr");
        [
          dateText,
          flightVal,
          cityVal,
          hotelVal,
          act1Val,
          act2Val
        ].forEach(txt => {
          const td = document.createElement("td");
          td.textContent = txt;
          row.appendChild(td);
        });

        const td = document.createElement("td");
        const btn = document.createElement("button");
        btn.textContent = "ğŸ—‘";
        btn.onclick = () => deleteRow(btn);
        td.appendChild(btn);
        row.appendChild(td);

        document.getElementById("savedBody").appendChild(row);
      }

      if (document.querySelectorAll("#savedBody tr").length) {
        document.getElementById("savedTable").style.display = "table";
      }

      // ×©××™×¨×” ×©×§×˜×” (×‘×œ×™ ALERT)
      saveLocally(false);
    }

    function deleteRow(btn) {
      const row = btn.parentNode.parentNode;
      row.remove();
      if (!document.querySelectorAll("#savedBody tr").length) {
        document.getElementById("savedTable").style.display = "none";
      }
      saveLocally(false);
    }

    function clearAll() {
      document.getElementById("savedBody").innerHTML = "";
      document.getElementById("savedTable").style.display = "none";
      localStorage.removeItem("tripData");
    }

    function saveLocally(showAlert = true) {
      const data = Array.from(document.querySelectorAll("#savedBody tr")).map(row =>
        Array.from(row.querySelectorAll("td"))
          .slice(0, 6)
          .map(td => td.textContent)
      );
      localStorage.setItem("tripData", JSON.stringify(data));
      if (showAlert) {
        alert("×”××¡×œ×•×œ × ×©××¨ ××§×•××™×ª!");
      }
    }

    function loadFromLocalStorage() {
      const saved = JSON.parse(localStorage.getItem("tripData") || "[]");
      saved.forEach(vals => {
        const row = document.createElement("tr");
        vals.forEach(txt => {
          const td = document.createElement("td");
          td.textContent = txt;
          row.appendChild(td);
        });
        const td = document.createElement("td");
        const btn = document.createElement("button");
        btn.textContent = "ğŸ—‘";
        btn.onclick = () => deleteRow(btn);
        td.appendChild(btn);
        row.appendChild(td);
        document.getElementById("savedBody").appendChild(row);
      });
      if (saved.length) {
        document.getElementById("savedTable").style.display = "table";
      }
    }

    function downloadPDF() {
      const rows = document.querySelectorAll("#savedBody tr");
      if (!rows.length) {
        alert("××™×Ÿ ×©×•×¨×•×ª ×œ×©××™×¨×”");
        return;
      }

      if (!window.jspdf || !window.jspdf.jsPDF) {
        alert("×¡×¤×¨×™×™×ª PDF ×œ× × ×˜×¢× ×”. ×•×“× ×©×™×© ×—×™×‘×•×¨ ×œ××™× ×˜×¨× ×˜ ×•× ×¡×” ×©×•×‘.");
        return;
      }

      const doc = new window.jspdf.jsPDF();
      let y = 10;
      doc.setFont("helvetica", "normal");
      doc.setFontSize(12);
      doc.text("××¡×œ×•×œ ×˜×™×•×œ:", 10, y);
      y += 10;

      rows.forEach((row, i) => {
        const cells = row.querySelectorAll("td");
        const text =
          "×™×•× " + (i + 1) +
          " - ×ª××¨×™×š: " + cells[0].textContent +
          ", ×˜×™×¡×”: " + cells[1].textContent +
          ", ×¢×™×¨: " + cells[2].textContent +
          ", ××œ×•×Ÿ: " + cells[3].textContent +
          ", ×¤×¢×™×œ×•×ª 1: " + cells[4].textContent +
          ", ×¤×¢×™×œ×•×ª 2: " + cells[5].textContent;

        if (y > 280) {
          doc.addPage();
          y = 10;
        }
        doc.text(text, 10, y);
        y += 10;
      });

      doc.save("trip_plan.pdf");
    }

    function sendToWhatsApp() {
      const rows = document.querySelectorAll("#savedBody tr");
      if (!rows.length) {
        alert("××™×Ÿ ×©×•×¨×•×ª ×œ×©×œ×™×—×”");
        return;
      }

      let message = "âœˆï¸ ××¡×œ×•×œ ×˜×™×•×œ:\n\n";
      rows.forEach((row, i) => {
        const cells = row.querySelectorAll("td");
        message +=
          "×™×•× " + (i + 1) +
          " - ×ª××¨×™×š: " + cells[0].textContent +
          ", ×˜×™×¡×”: " + cells[1].textContent +
          ", ×¢×™×¨: " + cells[2].textContent +
          ", ××œ×•×Ÿ: " + cells[3].textContent +
          ", ×¤×¢×™×œ×•×ª 1: " + cells[4].textContent +
          ", ×¤×¢×™×œ×•×ª 2: " + cells[5].textContent + "\n";
      });

      const phone = prompt("×”×›× ×¡ ××¡×¤×¨ ×˜×œ×¤×•×Ÿ (×œ×œ× 0):");
      if (!phone) return;
      const fullPhone = "972" + phone.replace(/^0+/, "").replace(/[^0-9]/g, "");
      const url = "https://wa.me/" + fullPhone + "?text=" + encodeURIComponent(message);
      window.open(url, "_blank");
    }

    window.onload = function () {
      generateDates();
      fillSelect("flight", flights);
      fillSelect("city", cities);
      fillSelect("activity1", activities);
      fillSelect("activity2", activities);
      // ×‘×ª×—×™×œ×” â€“ ××™×Ÿ ×¢×™×¨, ××– ××™×Ÿ ××œ×•× ×•×ª
      fillHotelsForCity("");
      loadFromLocalStorage();
    };
  </script>
</body>
</html>
