<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Live Score Tracker</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #000;
            overflow: hidden;
            font-family: Arial, sans-serif;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* 住 转爪 - 拽 专 */
        #screen-view {
            width: 100%;
            height: 100%; /* 转驻住 转  住 */
            position: relative;
            overflow: hidden;
            background: #000;
        }

        iframe {
            position: absolute;
            width: 1200px;
            height: 1500px;
            border: none;
            transform-origin: 0 0;
            pointer-events: none; /* 注  注转 */
        }

        /* 驻住 注 专拽 拽  */
        #timer-bar {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 5px;
            background-color: #00ff00;
            width: 0%;
            transition: width 1s linear;
            z-index: 10;
        }

        /*  拽专 - 驻注 专拽 砖爪专 */
        #controls-panel {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 20px;
            box-sizing: border-box;
            border-top: 2px solid #555;
            z-index: 100;
            display: flex; /* 砖 */
            flex-direction: column;
            gap: 15px;
        }

        .slider-group {
            display: flex;
            flex-direction: column;
        }
        
        label { margin-bottom: 5px; color: #ddd; font-size: 14px;}
        input[type=range] { width: 100%; height: 30px; }

        button {
            padding: 15px;
            font-size: 18px;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 10px;
        }

        #save-btn { background-color: #28a745; color: white; }
        
        /* 驻转专 注专 拽 爪祝 */
        #edit-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background-color: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            color: white;
            font-size: 24px;
            z-index: 90;
            display: none; /* 住转专 转 */
            cursor: pointer;
        }

        /* 拽 住转专 */
        .hidden { display: none !important; }

    </style>
</head>
<body>

    <div id="screen-view">
        <iframe id="gameFrame" src="https://www.football.org.il/leagues/games/game/?game_id=1066561" scrolling="no"></iframe>
        <div id="timer-bar"></div>
    </div>

    <button id="edit-btn">锔</button>

    <div id="controls-panel">
        <div style="text-align:center; font-weight:bold; color:orange;">爪  专砖</div>
        
        <div class="slider-group">
            <label>注 / </label>
            <input type="range" id="moveY" min="-1000" max="0" value="-317">
        </div>
        <div class="slider-group">
            <label> / 砖</label>
            <input type="range" id="moveX" min="-800" max="0" value="-454">
        </div>
        <div class="slider-group">
            <label> ()</label>
            <input type="range" id="zoomLevel" min="0.5" max="2.0" step="0.05" value="1.05">
        </div>

        <button id="save-btn">砖专 拽 注 住 </button>
    </div>

    <script>
        const iframe = document.getElementById('gameFrame');
        const moveY = document.getElementById('moveY');
        const moveX = document.getElementById('moveX');
        const zoomLevel = document.getElementById('zoomLevel');
        const controlsPanel = document.getElementById('controls-panel');
        const saveBtn = document.getElementById('save-btn');
        const editBtn = document.getElementById('edit-btn');
        const timerBar = document.getElementById('timer-bar');

        // 驻拽爪 注 转爪  转
        function updateView() {
            iframe.style.top = moveY.value + 'px';
            iframe.style.left = moveX.value + 'px';
            iframe.style.transform = `scale(${zoomLevel.value})`;
        }

        //  住专
        moveY.addEventListener('input', updateView);
        moveX.addEventListener('input', updateView);
        zoomLevel.addEventListener('input', updateView);

        // ---  专 (Local Storage) ---

        function loadSavedSettings() {
            const savedY = localStorage.getItem('soccer_y');
            const savedX = localStorage.getItem('soccer_x');
            const savedZoom = localStorage.getItem('soccer_zoom');

            if (savedY && savedX && savedZoom) {
                //  砖 专转 砖专转 - 注 转 住转专 转 驻
                moveY.value = savedY;
                moveX.value = savedX;
                zoomLevel.value = savedZoom;
                updateView();
                closeControls(); 
            } else {
                //   专转 (驻注 专砖) - 转驻注 转 注 专砖
                updateView();
            }
        }

        function saveSettings() {
            localStorage.setItem('soccer_y', moveY.value);
            localStorage.setItem('soccer_x', moveX.value);
            localStorage.setItem('soccer_zoom', zoomLevel.value);
            closeControls();
        }

        function closeControls() {
            controlsPanel.classList.add('hidden'); // 住转专 驻
            editBtn.style.display = 'block';       // 专 驻转专 注专 拽
        }

        function openControls() {
            controlsPanel.classList.remove('hidden'); // 专 驻
            editBtn.style.display = 'none';           // 住转专 驻转专 注专
        }

        // 驻转专
        saveBtn.addEventListener('click', saveSettings);
        editBtn.addEventListener('click', openControls);

        // ---  专注  ---
        let seconds = 0;
        setInterval(function() {
            seconds++;
            timerBar.style.width = (seconds / 15 * 100) + "%";

            if (seconds >= 15) {
                iframe.src = iframe.src; 
                seconds = 0;
            }
        }, 1000);

        // 注转 注转 祝 - 住 注 专转
        loadSavedSettings();

    </script>
</body>
</html>
