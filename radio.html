<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>רדיו חי</title>

<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  html, body {
    width: 100%;
    height: 100%;
    background: #000;
    overflow: hidden;
    display: flex;
    flex-direction: column;
  }

  .container {
    flex: 1;
    display: grid;
    grid-template-rows: 1fr 1fr;
  }

  .station {
    width: 90%;
    height: 90%;
    border: none;
    outline: none;
    background: #000;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .station img {
    width: 80%;
    height: auto;
    max-height: 90%;
    object-fit: contain;
    border-radius: 16px;
    box-shadow: 0 8px 20px rgba(255,255,255,0.15);
    transition: 0.15s;
  }

  .station:active img {
    transform: scale(0.95);
    filter: brightness(1.15);
  }

  audio {
    display: none;
  }
</style>

</head>
<body>

<div class="container">

  <!-- 99.5 חם אש -->
  <button class="station" onclick="playStream('995')">
    <img src="https://media.radiodeck.com/stations/5f74f75c664ee8400841f6b9/profile/605933e0f197d64e94f5f0a4/xl.jpg" alt="">
  </button>

  <!-- 101.5 התחנה -->
  <button class="station" onclick="playStream('1015')">
    <img src="https://fm1.co.il/assets/stations/radio-darom-1015.png" alt="">
  </button>

</div>

<audio id="player"></audio>

<script>
  const streams = {
    // 99.5 חם אש – HLS רשמי (אם ייכשל, נפתח פופאפ רשמי)
    "995":  "https://cdna.streamgates.net/Radios_Radio_App/Ham_Esh/playlist.m3u8",

    // 101.5 התחנה
    "1015": "https://radio.streamgates.net/stream/hatahana"
  };

  function playStream(id) {
    const player = document.getElementById("player");

    if (id === "995") {
      // ניסיון לנגן ישירות
      if (player.src !== streams[id]) {
        player.src = streams[id];
      }

      player.play().catch(err => {
        console.log("שגיאה בהפעלה של 99.5:", err);
        // פלן B – פתיחת נגן רשמי של התחנה
        window.open("https://995.co.il/popup-player", "_blank");
      });

    } else if (id === "1015") {
      // התחנה 101.5 – ניגון פשוט
      if (player.src !== streams[id]) {
        player.src = streams[id];
      }
      player.play().catch(err => {
        console.log("שגיאה בהפעלה של 101.5:", err);
        alert("לא הצלחתי להפעיל את 101.5 מהדפדפן.");
      });
    }
  }
</script>

</body>
</html>
