<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>砖转转 专</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background-color: #7195ba; display: flex; justify-content: center; padding: 20px; margin: 0; }
        .container { background: white; width: 100%; max-width: 450px; border-radius: 12px; box-shadow: 0 5px 15px rgba(0,0,0,0.2); overflow: hidden; }
        .search-bar { padding: 15px; background: #f1f1f1; display: flex; gap: 8px; border-bottom: 1px solid #ddd; }
        input { flex: 1; padding: 12px; border: 1px solid #ccc; border-radius: 8px; font-size: 16px; outline: none; }
        button { padding: 12px 20px; background: #0088cc; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; }
        .results { padding: 20px; font-size: 15px; line-height: 1.6; color: #000; background-color: #fff; min-height: 100px; }
        .loading { text-align: center; color: #666; font-style: italic; }
        .error { color: #d93025; text-align: center; font-weight: bold; }
    </style>
</head>
<body>

<div class="container">
    <div class="search-bar">
        <input type="text" id="carInput" placeholder="住 住驻专 专 (砖 20096003)" maxlength="8">
        <button onclick="getCarData()">驻砖</button>
    </div>
    
    <div id="output" class="results">
        <div style="text-align: center; color: #999;">转 转 住驻专 专...</div>
    </div>
</div>

<script>
async function getCarData() {
    const carId = document.getElementById('carInput').value.trim();
    const output = document.getElementById('output');
    
    if (!carId) {
        output.innerHTML = '<div class="error">  住驻专 专</div>';
        return;
    }
    
    output.innerHTML = '<div class="loading">转专 专 转...</div>';

    // 砖砖 -Proxy  注 住转 CORS -GitHub Pages
    const proxy = "https://api.allorigins.win/raw?url=";
    const apiUrl = `https://data.gov.il/api/3/action/datastore_search?resource_id=053ad004-d6b0-461d-bc59-061749027582&filters={"mispar_rechev":"${carId}"}`;

    try {
        const response = await fetch(proxy + encodeURIComponent(apiUrl));
        const data = await response.json();

        if (data.result.records.length > 0) {
            const r = data.result.records[0];
            
            // 驻专 转爪 拽  转
            let html = ` 转爪转 驻砖:<br>`;
            html += `-------------------------<br>`;
            html += `<b>住驻专 专:</b> ${r.mispar_rechev}<br>`;
            html += `<b>拽 转爪专:</b> ${r.samel_tozeret || '---'}<br>`;
            html += `<b>住 (驻专  住专):</b> ${r.sug_deg_nm || '驻专'}<br>`;
            html += `<b>砖 转爪专:</b> ${r.tozeret_nm}<br>`;
            html += `<b>拽 :</b> ${r.samel_deg_nm || '---'}<br>`;
            html += `<b>砖 :</b> ${r.kinuy_mishari}<br>`;
            html += `<b>专转 专:</b> ${r.ramat_gimur || '()'}<br>`;
            html += `<b>专转 专 转:</b> ${r.ramat_eivzur_betichuti || '()'}<br>`;
            html += `<b>拽爪转 :</b> ${r.kvutzat_zihum || '---'}<br>`;
            html += `<b>砖转 爪专:</b> ${r.shnat_yitzur}<br>`;
            html += `<b> 注:</b> ${r.deg_manua || '---'}<br>`;
            html += `<b>转专 (住):</b> ${r.mivchan_acharon_dt || '---'}<br>`;
            html += `<b>转拽祝 专砖 专:</b> ${r.tokef_taz_rechev}<br>`;
            html += `<b>注转:</b> ${r.baalut}<br>`;
            html += `<b>住驻专 砖:</b> ${r.mispar_shilda}<br>`;
            html += `<b>拽 爪注:</b> ${r.samel_tzeva || '---'}<br>`;
            html += `<b>爪注:</b> ${r.tzeva_rechev}<br>`;
            html += `<b>爪 拽:</b> ${r.tzmig_kidmi || '---'}<br>`;
            html += `<b>爪 专:</b> ${r.tzmig_achori || '---'}<br>`;
            html += `<b>住 拽:</b> ${r.sug_delek_nm}<br>`;
            html += `<b>住驻专 专转 专砖:</b> ${r.mispar_horaat_rishum || '---'}<br>`;
            html += `<b>注 注 砖:</b> ${r.moed_aliya_lakvish || '---'}<br>`;
            html += `<b> 住专:</b> ${r.kinuy_mishari}<br>`;

            output.innerHTML = html;
        } else {
            output.innerHTML = '<div class="error"> 爪 转 住驻专 专 .</div>';
        }
    } catch (error) {
        output.innerHTML = '<div class="error">砖 转拽砖专转 注 专. 住 砖.</div>';
    }
}
</script>

</body>
</html>
