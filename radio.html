<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>רדיו חי</title>

<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }

  html, body {
    width: 100%;
    height: 100%;
    background: #000;
    overflow: hidden;
    overscroll-behavior: none;
    display: flex;
    flex-direction: column;
    user-select: none;
  }

  .container {
    flex: 1;
    display: grid;
    grid-template-rows: 1fr auto 1fr; /* תחנה – שעון – תחנה */
  }

  .station {
    width: 100%;
    height: 100%;
    border: none;
    outline: none;
    background: #000;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* שני האייקונים בגודל זהה כמו קודם */
  .station img {
    width: 70%;
    height: auto;
    max-height: 75%;
    aspect-ratio: 1 / 1;
    object-fit: contain;
    border-radius: 16px;
    box-shadow: 0 8px 20px rgba(255,255,255,0.15);
    background: #000;
    padding: 10px;
    transition: 0.15s;
  }

  .station:active img {
    transform: scale(0.93);
    filter: brightness(1.15);
  }

  /* עטיפת השעון */
  .clock-wrapper {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 8px 0 4px;
  }

  /* שעון ניאון "נושם" */
  #clock {
    font-family: "Courier New", monospace;
    font-size: clamp(3rem, 9vw, 4.2rem);
    color: #00e5ff;
    text-shadow:
      0 0 8px  #00e5ff,
      0 0 16px #00e5ff,
      0 0 30px #00bcd4,
      0 0 45px #0088aa;
    letter-spacing: 0.15em;
    animation: breathe 2.4s ease-in-out infinite;
  }

  @keyframes breathe {
    0%   { transform: scale(1);    opacity: 0.9; }
    50%  { transform: scale(1.05); opacity: 1;   }
    100% { transform: scale(1);    opacity: 0.9; }
  }

  #muteBtn {
    width: 100%;
    padding: 18px;
    background: #222;
    color: #fff;
    border: none;
    font-size: 1.3rem;
    font-weight: bold;
    cursor: pointer;
  }

  #muteBtn:active {
    background: #444;
  }

  audio { display: none; }
</style>

</head>
<body>

<div class="container">

  <!-- 99.5 -->
  <button class="station" onclick="playStream('995')">
    <img src="https://media.radiodeck.com/stations/5f74f75c664ee8400841f6b9/profile/605933e0f197d64e94f5f0a4/xl.jpg" alt="">
  </button>

  <!-- שעון ניאון באמצע -->
  <div class="clock-wrapper">
    <div id="clock">00:00</div>
  </div>

  <!-- 101.5 -->
  <button class="station" onclick="playStream('1015')">
    <img src="https://fm1.co.il/assets/stations/radio-darom-1015.png" alt="">
  </button>

</div>

<button id="muteBtn" onclick="toggleMute()">השתק ניגון</button>

<audio id="player"></audio>

<script>
  const streams = {
    "995":  "https://cdna.streamgates.net/Radios_Radio_App/Ham_Esh/playlist.m3u8",
    "1015": "https://radio.streamgates.net/stream/hatahana"
  };

  const player = document.getElementById("player");
  const muteBtn = document.getElementById("muteBtn");

  function vibrate() {
    if (navigator.vibrate) navigator.vibrate(50);
  }

  function playStream(id) {
    vibrate();

    if (id === "995") {
      if (player.src !== streams[id]) player.src = streams[id];
      player.play().catch(() => {
        window.open("https://995.co.il/popup-player", "_blank");
      });
    } else {
      if (player.src !== streams[id]) player.src = streams[id];
      player.play();
    }
  }

  function toggleMute() {
    vibrate();
    player.muted = !player.muted;
    muteBtn.textContent = player.muted ? "בטל השתק" : "השתק ניגון";
  }

  function updateClock() {
    const now = new Date();
    const h = String(now.getHours()).padStart(2, "0");
    const m = String(now.getMinutes()).padStart(2, "0");
    const el = document.getElementById("clock");
    if (el) el.textContent = `${h}:${m}`;
  }

  updateClock();
  setInterval(updateClock, 1000 * 10); // מעדכן כל 10 שניות

</script>

</body>
</html>
