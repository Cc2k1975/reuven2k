<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>注专转 砖 转</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #121212;
            color: white;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden; /* 注  砖  祝 */
            font-family: Arial, sans-serif;
        }

        /* --- 专 爪驻 () --- */
        #tv-screen {
            position: relative;
            width: 100%;
            height: 40vh; /* 转驻住 转 拽 注 */
            background: white;
            overflow: hidden; /* 转 转 砖 */
            border-bottom: 5px solid #007bff;
            z-index: 1;
        }

        /* 转专 砖 转转 */
        iframe {
            position: absolute;
            width: 1200px; /* 专   转驻住  */
            height: 2000px;
            border: none;
            transform-origin: 0 0;
            
            /* 砖转 砖砖 拽 */
            top: var(--y, -200px);
            left: var(--x, -200px);
            transform: scale(var(--s, 0.6));
            
            /* 注 专拽爪 注 转专  砖 转抓 注转 注 驻专住转 */
            pointer-events: none; 
        }

        /* --- 专 砖 ('住拽) --- */
        #controller {
            flex: 1;
            background: #222;
            padding: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.5);
            z-index: 10;
        }

        .label { font-size: 14px; color: #aaa; margin-bottom: 5px; }

        .row { display: flex; gap: 15px; }

        /* 驻转专 爪   */
        button.arrow {
            width: 70px; height: 70px;
            font-size: 30px;
            background: #333; color: white;
            border: 2px solid #555; border-radius: 15px;
            cursor: pointer;
            touch-action: manipulation; /* 转 专 驻 */
        }
        button.arrow:active { background: #007bff; border-color: #fff; }

        /* 驻转专  */
        button.zoom {
            width: 90px; height: 50px;
            font-size: 18px; font-weight: bold;
            background: #444; color: white; border: none; border-radius: 8px;
        }

        /* 驻转专 专注  */
        button.refresh {
            margin-top: 15px;
            width: 200px; height: 45px;
            background: #28a745; color: white;
            font-weight: bold; border: none; border-radius: 25px;
            font-size: 16px;
        }

        #loader {
            height: 3px; background: #00ff00; width: 0%; transition: width 0.5s;
        }

    </style>
</head>
<body>

    <div id="tv-screen">
        <iframe id="gameFrame" scrolling="no"></iframe>
        <div style="position:absolute; bottom:0; width:100%; bg:black;">
            <div id="loader"></div>
        </div>
    </div>

    <div id="controller">
        <div class="label"> 住 (砖转砖 爪):</div>
        
        <button class="arrow" onclick="move(0, 30)">猬锔</button>
        <div class="row">
            <button class="arrow" onclick="move(30, 0)">猬锔</button>
            <button class="arrow" onclick="move(-30, 0)">★</button>
        </div>
        <button class="arrow" onclick="move(0, -30)">猬锔</button>

        <div class="row" style="margin-top: 10px;">
            <button class="zoom" onclick="zoom(-0.05)"> -</button>
            <button class="zoom" onclick="zoom(0.05)"> +</button>
        </div>

        <button class="refresh" onclick="forceRefresh()"> 专注 转 注砖</button>
        <div class="label" style="font-size: 12px; margin-top:5px;">转专注 转  20 砖转</div>
    </div>

    <script>
        const GAME_ID = "1066561";
        const IFRAME = document.getElementById('gameFrame');
        const SCREEN = document.getElementById('tv-screen');
        const LOADER = document.getElementById('loader');

        // 砖驻转 拽 专 专
        let x = parseFloat(localStorage.getItem('joy_x')) || -200;
        let y = parseFloat(localStorage.getItem('joy_y')) || -300;
        let s = parseFloat(localStorage.getItem('joy_s')) || 0.6;

        function updateView() {
            // 注 砖转 -CSS  砖 
            SCREEN.style.setProperty('--x', x + 'px');
            SCREEN.style.setProperty('--y', y + 'px');
            SCREEN.style.setProperty('--s', s);

            // 砖专 专
            localStorage.setItem('joy_x', x);
            localStorage.setItem('joy_y', y);
            localStorage.setItem('joy_s', s);
        }

        // 驻拽爪转 转
        function move(dx, dy) {
            x += dx;
            y += dy;
            updateView();
        }

        function zoom(ds) {
            s += ds;
            updateView();
        }

        // 注转 转专
        function loadGame() {
            // 专拽: 住驻   砖驻驻   转 砖
            IFRAME.src = `https://www.football.org.il/leagues/games/game/?game_id=${GAME_ID}&dummy=${Date.now()}`;
        }

        function forceRefresh() {
            LOADER.style.width = "100%";
            loadGame();
            setTimeout(() => { LOADER.style.width = "0%"; }, 1000);
        }

        // 驻注 专砖转
        updateView();
        loadGame();

        // 专注  砖拽  20 砖转
        setInterval(() => {
            LOADER.style.width = "50%";
            //  专注 专拽 转 -SRC, 拽 砖专   -CSS 砖 -DIV 注祝!
            loadGame();
            setTimeout(() => { LOADER.style.width = "0%"; }, 1000);
        }, 20000);

    </script>
</body>
</html>
